@inherits LayoutComponentBase

@inject ShellViewModel Shell

<MudLayout>
    <MainAppBar />
    <NavMenu />
    <MudMainContent>
        @if (Shell.AppMode.IsDual){
            <DualPanel LeftPanel="Body">
                <RightPanel>
                    @if (Shell.AppMode.DetailPanel is not null){
                        <View ViewModel="Shell.AppMode.DetailPanel"/>
                    }
                </RightPanel>
            </DualPanel>
        }
        else{
            @Body
        }
    </MudMainContent>
</MudLayout>

@code {
    protected override void OnInitialized()
    {
        Shell.ResetAppMode();
        base.OnInitialized();
    }
}